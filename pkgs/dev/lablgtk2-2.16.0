# Based on: https://projects.archlinux.org/svntogit/packages.git/tree/trunk/PKGBUILD?h=packages/lablgtk2

version=2.16.0
description="An Objective Caml interface to gtk2"
depends=('dev/ocaml')
license=('LGPL')
website="http://lablgtk.forge.ocamlcore.org/"

isinstalled() {
	return 1
}

iscompat() {
	return 0
}

build() {
	PKGIX_FETCH="wget --no-check-certificate -O %s" fetch_extract \
		"https://forge.ocamlcore.org/frs/download.php/979/lablgtk-${version}.tar.gz" \
		"md5=052519ce2a77d2316732bc4d565b6399"

	cd "lablgtk-${version}"
	./configure --prefix="${prefix}/usr"
	make world
	make opt
}

installenv() {
	cd "lablgtk-${version}"
	make DESTDIR="${destdir}/${prefix}" BINDIR="${destdir}/${prefix}/usr/bin" old-install
	install -m644 META "${destdir}/${prefix}/usr/lib/ocaml/lablgtk2/"
}

# vim: set ft=sh :
