
version=2.3.0
description="Scons build system $version"
depends=("dev/python2")
website="http://scons.org"
license=('MIT')

isinstalled() {
	return 1
}

iscompat() {
	return 0
}

build() {
	fetch_extract \
		"http://downloads.sourceforge.net/sourceforge/scons/scons-$version.tar.gz" \
		"9442069999cf4b2caa94a5886ab4c2c71de1718ed5e9176c18e2b6dbca463b4b"
}

installenv() {
	cd "scons-$version"
	python2 setup.py install --standard-lib \
	                         --prefix="${prefix}/usr" \
	                         --install-data="${prefix}/usr/share" \
	                         --optimize=1 \
	                         --root="${destdir}"

	sed -i 's:^#!.*bin/env python:#!/usr/bin/env python2:' \
		"${destdir}/${prefix}/usr/bin"/*
}

# vim: set ft=sh :
